==================================================================
AMeDAS Scraper Run - Thu Nov 13 18:36:59 JST 2025
==================================================================
2025-11-13 18:37:00,493 - __main__ - INFO - Scraping 北海道 (010000)...
2025-11-13 18:37:00,493 - WDM - INFO - ====== WebDriver manager ======
2025-11-13 18:37:02,330 - WDM - INFO - Get LATEST chromedriver version for chromium
2025-11-13 18:37:02,393 - WDM - INFO - Get LATEST chromedriver version for chromium
2025-11-13 18:37:02,452 - WDM - INFO - Driver [/home/ubuntu/.wdm/drivers/chromedriver/linux64/142.0.7444.162/chromedriver-linux64/chromedriver] found in cache
2025-11-13 18:37:05,318 - __main__ - INFO - Chrome WebDriver initialized
2025-11-13 18:37:05,318 - __main__ - INFO - Navigating to: https://www.jma.go.jp/bosai/amedas/#area_type=japan&area_code=010000
2025-11-13 18:37:08,523 - __main__ - INFO - Looking for prefecture dropdown...
2025-11-13 18:37:11,553 - __main__ - INFO - Found 11 全域 buttons, attempting to click the first one...
2025-11-13 18:37:27,807 - __main__ - WARNING - Method 1 failed: Message: 

2025-11-13 18:37:27,808 - __main__ - INFO - Trying JavaScript click...
2025-11-13 18:37:28,202 - __main__ - INFO - Clicked 全域 button successfully (Method 2: JavaScript)
2025-11-13 18:37:32,202 - __main__ - INFO - 全域 button clicked, waiting for data to load...
2025-11-13 18:37:32,202 - __main__ - INFO - Waiting for data tables to populate...
2025-11-13 18:37:37,670 - __main__ - INFO - Found 11 data blocks
2025-11-13 18:37:37,670 - __main__ - INFO - Region: , Data rows: 0
2025-11-13 18:37:37,672 - __main__ - INFO - Region: 宗谷地方, Data rows: 28
2025-11-13 18:37:37,686 - __main__ - INFO - Region: 上川・留萌地方, Data rows: 80
2025-11-13 18:37:37,723 - __main__ - INFO - Region: 網走・北見・紋別地方, Data rows: 58
2025-11-13 18:37:37,750 - __main__ - INFO - Region: 釧路・根室地方, Data rows: 52
2025-11-13 18:37:37,774 - __main__ - INFO - Region: 十勝地方, Data rows: 50
2025-11-13 18:37:37,798 - __main__ - INFO - Region: 胆振・日高地方, Data rows: 54
2025-11-13 18:37:37,824 - __main__ - INFO - Region: 石狩・空知・後志地方, Data rows: 86
2025-11-13 18:37:37,863 - __main__ - INFO - Region: 渡島・檜山地方, Data rows: 44
2025-11-13 18:37:37,884 - __main__ - INFO - Parsed 8 regions with total 452 observations
2025-11-13 18:37:38,010 - __main__ - INFO - Chrome WebDriver closed
2025-11-13 18:37:40,011 - __main__ - INFO - Scraping 青森県 (020000)...
2025-11-13 18:37:40,011 - WDM - INFO - ====== WebDriver manager ======
2025-11-13 18:37:41,522 - WDM - INFO - Get LATEST chromedriver version for chromium
2025-11-13 18:37:41,591 - WDM - INFO - Get LATEST chromedriver version for chromium
2025-11-13 18:37:41,645 - WDM - INFO - Driver [/home/ubuntu/.wdm/drivers/chromedriver/linux64/142.0.7444.162/chromedriver-linux64/chromedriver] found in cache
2025-11-13 18:37:44,872 - __main__ - INFO - Chrome WebDriver initialized
2025-11-13 18:37:44,873 - __main__ - INFO - Navigating to: https://www.jma.go.jp/bosai/amedas/#area_type=japan&area_code=020000
2025-11-13 18:37:48,657 - __main__ - INFO - Looking for prefecture dropdown...
2025-11-13 18:37:51,695 - __main__ - INFO - Found 11 全域 buttons, attempting to click the first one...
2025-11-13 18:38:07,986 - __main__ - WARNING - Method 1 failed: Message: 

2025-11-13 18:38:07,986 - __main__ - INFO - Trying JavaScript click...
2025-11-13 18:38:08,308 - __main__ - INFO - Clicked 全域 button successfully (Method 2: JavaScript)
2025-11-13 18:38:12,309 - __main__ - INFO - 全域 button clicked, waiting for data to load...
2025-11-13 18:38:12,309 - __main__ - INFO - Waiting for data tables to populate...
2025-11-13 18:38:12,454 - urllib3.connectionpool - WARNING - Retrying (Retry(total=2, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7342ee2caf60>: Failed to establish a new connection: [Errno 111] Connection refused')': /session/8f203ce7cc271f2b0fbebc446e7e051c
2025-11-13 18:38:12,455 - urllib3.connectionpool - WARNING - Retrying (Retry(total=1, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7342ed0faa50>: Failed to establish a new connection: [Errno 111] Connection refused')': /session/8f203ce7cc271f2b0fbebc446e7e051c
2025-11-13 18:38:12,456 - urllib3.connectionpool - WARNING - Retrying (Retry(total=0, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7342ed0faff0>: Failed to establish a new connection: [Errno 111] Connection refused')': /session/8f203ce7cc271f2b0fbebc446e7e051c
2025-11-13 18:38:12,458 - __main__ - INFO - Chrome WebDriver closed
================================================================================
JMA AMeDAS Data Scraper (Selenium)
================================================================================

Scraping all prefectures...
Traceback (most recent call last):
  File "/home/ubuntu/Disaster-info-System/backend/jma_amedas_scraper.py", line 1138, in <module>
    asyncio.run(main_selenium())
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "/usr/lib/python3.12/asyncio/base_events.py", line 641, in run_forever
    self._run_once()
  File "/usr/lib/python3.12/asyncio/base_events.py", line 1987, in _run_once
    handle._run()
  File "/usr/lib/python3.12/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "/home/ubuntu/Disaster-info-System/backend/jma_amedas_scraper.py", line 1089, in main_selenium
    all_data = scraper.scrape_all_prefectures()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Disaster-info-System/backend/jma_amedas_scraper.py", line 429, in scrape_all_prefectures
    prefecture_data = self.scrape_prefecture(prefecture_code)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Disaster-info-System/backend/jma_amedas_scraper.py", line 394, in scrape_prefecture
    time.sleep(5)
  File "/usr/lib/python3.12/asyncio/runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt
